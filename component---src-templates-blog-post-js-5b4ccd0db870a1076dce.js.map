{"version":3,"file":"component---src-templates-blog-post-js-5b4ccd0db870a1076dce.js","mappings":"0QA+EA,EAzEgB,WACd,OACE,uBAAKA,UAAU,oBAEb,uBAAKA,UAAU,iBACb,wCAEF,0BACE,gBAAC,EAAAC,YAAD,CACEC,MAAOC,EACPC,OAAQ,SAAAC,GACN,GAAIA,EAAKC,UAAUC,SAAU,CAC3B,IAAMC,EAAQH,EAAKC,UAAUC,SAE7B,OACE,gCACGC,GACCA,EAAMC,KAAI,SAACC,EAAMC,GAAP,aACR,sBAAIX,UAAU,OAAOY,IAAKD,GACxB,uBAAKX,UAAU,kBACb,gBAAC,EAAAa,KAAD,CAAMC,GAAE,GAAKJ,EAAKK,KAChB,uBAAKf,UAAU,QACf,uBAAKA,UAAU,QACf,uBAAKA,UAAU,QACf,uBAAKA,UAAU,QACdU,EAAKM,cAAcC,MAClB,gBAAC,EAAAC,EAAD,CACEC,OAAOC,EAAAA,EAAAA,GACLV,EAAKM,cAAcC,KAAKI,WAE1BC,IAAG,UAAEZ,EAAKM,cAAcC,KAAKM,eAA1B,QAAqC,oBAKhD,uBAAKvB,UAAU,SACb,gBAAC,EAAAa,KAAD,CAAMC,GAAE,GAAKJ,EAAKK,IAAOS,MAAOd,EAAKc,OACnC,0BAAKd,EAAKc,SAGd,uBAAKxB,UAAU,WACb,uBAAKA,UAAU,WACb,4BACE,qBACEA,UAAU,mBACV,cAAY,SAEbU,EAAKe,WAAWC,UAGrB,uBAAK1B,UAAU,SACb,sCAAcU,EAAKe,WAAWE,QAEhC,uBAAK3B,UAAU,kCACb,2BAAMU,EAAKe,WAAWG,SACtB,2BAAMlB,EAAKe,WAAWI,IACtB,2BAAMnB,EAAKe,WAAWK,gBAQtC,OAAO,WAWb3B,EAAU,Y,6BCmHhB,EAhMM4B,SAAAA,GACJ,WAAYC,GAAQ,IAAD,SACjB,cAAMA,IAAN,MAcFC,iBAAmB,SAAAC,GAEjB,GADAA,EAAEC,iBACC,EAAKC,MAAMC,cACZ,EAAKC,SAAS,CAAEC,MAAO,qDAOzB,GAAgC,KAA5B,EAAKH,MAAMI,MAAMC,QAA4C,KAA3B,EAAKL,MAAMM,KAAKD,OACpD,EAAKH,SAAS,CAAEC,MAAO,sCACvB,EAAKI,SAASC,QAAQC,SACtB,EAAKP,SAAS,CAAED,eAAe,SAC1B,IAAM,QAAQS,KAAK,EAAKV,MAAMI,QAAW,EAAKJ,MAAMI,MAAMO,OAAS,GACxE,EAAKT,SAAS,CAAEC,MAAO,yCACvB,EAAKI,SAASC,QAAQI,QACtB,EAAKL,SAASC,QAAQC,SACtB,EAAKP,SAAS,CAAED,eAAe,QAC1B,CACL,EAAKC,SAAS,CAAED,eAAe,IAC/B,IAAIY,EAAe,IAAIC,SACvBD,EAAaE,OAAO,SAAU,KAC9BF,EAAaE,OAAO,MAAOC,OAAOC,SAASC,MAC3CL,EAAaE,OAAO,QAAS,EAAKnB,MAAMuB,YAAY/B,OACpDyB,EAAaE,OAAO,OAAQ,EAAKf,MAAMM,MACvCO,EAAaE,OAAO,QAAS,EAAKf,MAAMI,OACxCS,EAAaE,OAAO,QAAS,EAAKf,MAAMoB,OACxCP,EAAaE,OAAO,QAAS,EAAKf,MAAMqB,OAExCC,GAAAA,CAAM,CACJC,OAAQ,OACRC,IAAKC,gEACLC,QAAS,CAAE,eAAgB,oBAC3BzD,KAAM4C,IAELc,MAAK,SAAAC,GACyB,QAAzBA,EAAS3D,KAAK4D,QAA6C,QAAzBD,EAAS3D,KAAK4D,OAClD,EAAK3B,SAAS,CAAEC,MAAOyB,EAAS3D,KAAK6D,QAAS7B,eAAe,KAE7D,EAAKC,SAAS,CAAE6B,SAAUH,EAAS3D,KAAK6D,UACpCF,EAAS3D,MAAgC,OAAxB2D,EAAS3D,KAAK4D,SACjCb,OAAOC,SAASC,KAAO,eAI5Bc,OAAM,SAAA7B,GACL,EAAKD,SAAS,CAAEC,MAAO,mBAAoBF,eAAe,SA9D/C,EAqEnBgC,aAAe,SAACnC,EAAGoC,GACjB,IAAIC,EAAQrC,EAAEsC,OAAOD,MACjBE,EAAc,GAClBA,EAAYH,GAASC,EACrB,EAAKjC,SAASmC,IAzEG,EA4EnBC,SAAW,aA5EQ,EA+EnBC,eAAiB,SAAAX,GACf,EAAK1B,SAAS,CAAEsC,qBAAsBZ,KA9EtC,EAAK5B,MAAQ,CACXI,MAAO,GACPE,KAAM,GACNc,MAAO,GACPC,MAAO,GACPmB,qBAAsB,GACtBT,UAAU,EACV5B,MAAO,KACPF,eAAe,GAEjB,EAAKM,SAAWkC,EAAAA,YAZC,EA4LlB,OA7LG9C,EAAAA,EAAAA,GAAAA,EAAAA,G,YAoFJ3B,OAAA,WAAU,IAAD,OACC0E,EAASC,KAAK/C,MAAMuB,YAApBuB,KACFE,EAAO,sDAAwDF,EAAKtD,MAE1E,OACE,gCACE,uBAAKxB,UAAU,eAAeiF,GAAG,gBAC/B,4CACA,wBAAMC,OAAO,KACX,uBAAKlF,UAAU,cACb,yBACEmF,KAAK,SACLnF,UAAU,eACVuE,MAAM,IACNa,SAAU,SAAAlD,GAAC,OAAI,EAAKmC,aAAanC,EAAG,cAGxC,uBAAKlC,UAAU,cACb,yBACEmF,KAAK,SACLnF,UAAU,eACVuE,MAAOQ,KAAK3C,MAAMwB,IAClBwB,SAAU,SAAAlD,GAAC,OAAI,EAAKmC,aAAanC,EAAG,WAGxC,uBAAKlC,UAAU,cACb,yBACEA,UAAU,eACVmF,KAAK,OACLE,YAAY,cACZd,MAAOQ,KAAK3C,MAAMM,KAClB0C,SAAU,SAAAlD,GAAC,OAAI,EAAKmC,aAAanC,EAAG,SACpCoD,UAAQ,KAGZ,uBAAKtF,UAAU,cACb,yBACEuF,IAAKR,KAAKpC,SACV3C,UAAU,eACVmF,KAAK,OACLE,YAAY,kBACZd,MAAOQ,KAAK3C,MAAMI,MAClB4C,SAAU,SAAAlD,GAAC,OAAI,EAAKmC,aAAanC,EAAG,UACpCoD,UAAQ,KAGZ,uBAAKtF,UAAU,cACb,yBACEA,UAAU,eACVmF,KAAK,OACLE,YAAY,gBACZd,MAAOQ,KAAK3C,MAAMoB,MAClB4B,SAAU,SAAAlD,GAAC,OAAI,EAAKmC,aAAanC,EAAG,aAGxC,uBAAKlC,UAAU,cACb,yBACEmF,KAAK,OACLnF,UAAU,eACVuE,MAAOO,EAAKtD,MACZgE,UAAQ,KAGZ,uBAAKxF,UAAU,cACb,4BACEA,UAAU,eACVqF,YAAaL,EACbT,MAAOQ,KAAK3C,MAAMqB,MAClB2B,SAAU,SAAAlD,GAAC,OAAI,EAAKmC,aAAanC,EAAG,UACpCuD,KAAK,OAUT,yBACEN,KAAK,SACLK,SAAUT,KAAK3C,MAAMC,cACrBqD,QAAS,SAAAxD,GAAC,OAAI,EAAKD,iBAAiBC,IACpCqC,MAAM,QAGR,2BAIGQ,KAAK3C,MAAM+B,UACV,uBAAKnE,UAAU,uBACZ+E,KAAK3C,MAAM+B,UAGfY,KAAK3C,MAAMG,OACV,uBAAKvC,UAAU,sBACZ+E,KAAK3C,MAAMG,YAQ3B,EA7LGR,CAAa8C,EAAAA,WC0PnB,EA7OyB,SAAC,GAAwC,IAAD,YAArCxE,KAAwByE,GAAa,EAA7Ba,SAA6B,EAAnBC,KAAmB,EAAbd,MAC5C9D,EAAgB,CACpBG,MAAK,UAAE2D,EAAK9D,qBAAP,iBAAE,EAAoBC,YAAtB,aAAE,EAA0BI,UACjCC,KAAK,UAAAwD,EAAK9D,qBAAL,mBAAoBC,YAApB,eAA0BK,MAA1B,IAEHuE,EAAW,CACbC,MAAM,EACNC,UAAU,EACVC,UAAU,EACVC,MAAO,IACPC,aAAc,EACdC,MAAM,EACNC,QAAQ,EACRC,eAAgB,GAElB,OACE,gBAACC,EAAA,EAAD,KACE,gBAACC,EAAA,EAAD,CACE/E,MAAOsD,EAAKtD,MACZgF,YAAgB1B,EAAKtD,MAAV,uDACXiF,SAAa3B,EAAKtD,MAAV,gHACRkF,SACE,gCACC1F,EACGA,EAAcG,MAAMwF,gBAAgBC,gBAAgBC,OACjDC,SAASC,IACZ,0BAGR,uBAAK/G,UAAU,kBACb,uBAAKA,UAAU,yBACb,0BAAK8E,EAAKtD,SAGd,uBAAKxB,UAAU,aACb,uBAAKA,UAAU,OACb,uBAAKA,UAAU,sBACb,uBAAKA,UAAU,UACX,WACA,GAA+B,MAA3B8E,EAAKrD,WAAWC,QAClB,OACE,gCACE,uBAAK1B,UAAU,iBACb,gBAAC,IAAD,iBAAY6F,EAAZ,CAAsB7F,UAAU,cAC7B8E,EAAKrD,WAAWuF,SACflC,EAAKrD,WAAWuF,QAAQvG,KAAI,SAACC,EAAMC,GAAP,aAC1B,uBAAKC,IAAKD,GACR,gBAAC,EAAAO,EAAD,CACEC,OAAOC,EAAAA,EAAAA,GAASV,EAAKW,WACrBC,IAAG,UAAEZ,EAAKa,eAAP,QAAkB,uBAK/B,sBAAIvB,UAAU,gBAAd,mBACA,0BACE,0BACE,8BAAS8E,EAAKtD,QAEd,WACA,GAAgC,MAA5BsD,EAAKrD,WAAWwF,SAClB,OACE,wCACc,IACZ,8BAASnC,EAAKrD,WAAWwF,WAL/B,GAUF,sCACW,8BAASnC,EAAKrD,WAAWC,UAEpC,sBAAI1B,UAAU,SAAd,WACU,8BAAS8E,EAAKrD,WAAWE,UAIvC,qBACE2B,KAAK,gBACL6B,KAAK,SACLnF,UAAU,mBAHZ,YAvCN,GAmDF,uBAAKA,UAAU,aAEqB,OAA5B8E,EAAKrD,WAAWC,QAEhB,gCACE,4BAAMwF,EAAAA,EAAAA,IAAMpC,EAAKqC,WAKnB,gCACE,sBAAInH,UAAU,gBAAd,cACA,4BAAMkH,EAAAA,EAAAA,IAAMpC,EAAKqC,YAOzB,WACA,GAAgC,MAA5BrC,EAAKrD,WAAW4B,SAClB,OACE,uBAAKrD,UAAU,uBACb,sBAAIA,UAAU,gBAAd,UACA,gCAAOkH,EAAAA,EAAAA,IAAMpC,EAAKrD,WAAW4B,YALnC,GAWA,WACA,GAA+B,MAA3ByB,EAAKrD,WAAW2F,QAClB,OACE,uBAAKpH,UAAU,kBACb,sBAAIA,UAAU,gBAAd,uBACA,uBAAKA,UAAU,OACZ8E,EAAKrD,WAAW2F,SACftC,EAAKrD,WAAW2F,QAAQ3G,KAAI,SAACC,EAAMC,GAAP,OAC1B,uBAAKX,UAAU,qBAAqBY,IAAKD,GACvC,yBACE,qBACEX,UAAU,qBACV,cAAY,SACR,IACLU,EAAKc,aAdtB,IAwBJ,uBAAKxB,UAAU,eACX,WACA,GAAoC,OAAhC8E,EAAKuC,YAAYC,WACnB,OACE,sBAAItH,UAAU,qBAAd,wBAHJ,GAOF,uBAAKA,UAAU,OACZ8E,EAAKuC,YAAYC,YAChBxC,EAAKuC,YAAYC,WAAW7G,KAC1B,SAACC,EAAMC,GAAP,OACED,EAAKc,OACH,uBAAKxB,UAAU,qBAAqBY,IAAKD,GACvC,uBAAKX,UAAU,SACb,qBACEsD,KAAM5C,EAAK6G,KACX/F,MAAOd,EAAKc,MACZgD,OAAO,SACPgD,IAAI,uBAEH9G,EAAKS,OACJ,gBAAC,EAAAD,EAAD,CACEC,OAAOC,EAAAA,EAAAA,GAASV,EAAKS,MAAME,WAC3BC,IAAI,oBAKZ,uBAAKtB,UAAU,WACb,sBAAIA,UAAU,SACZ,qBACEsD,KAAM5C,EAAK6G,KACX/F,MAAOd,EAAKc,MACZgD,OAAO,SACPgD,IAAI,uBAEH9G,EAAKc,QAGV,uBAAKxB,UAAU,WACb,uBAAKY,IAAG,OAAUqE,GAAG,cAClBiC,EAAAA,EAAAA,IAAMxG,EAAK+G,mBAUlC,uBAAKzH,UAAU,sBACb,6BACI,WACA,GAA+B,MAA3B8E,EAAKrD,WAAWC,QAClB,OACE,gCACE,uBAAK1B,UAAU,4BACb,uBAAKA,UAAU,iBACb,wDAG6B,MAAzB8E,EAAKrD,WAAWe,MAEhB,0BACE,qBAAGc,KAAI,OAASwB,EAAKrD,WAAWe,OAC7BsC,EAAKrD,WAAWe,QAMrB,0BACE,qBAAGc,KAAI,kBAAP,mBAMV,gBAACoE,EAAD,CAAUnE,YAAa,CAAEuB,KAAAA,EAAMtD,MAAOsD,EAAKtD,UA1BjD,GA+BF,gBAAC,EAAD","sources":["webpack://gatsby-starter-wordpress-blog/./src/components/Sidebar/Project.js","webpack://gatsby-starter-wordpress-blog/./src/components/Form/PostForm.js","webpack://gatsby-starter-wordpress-blog/./src/templates/blog-post.js"],"sourcesContent":["import React from \"react\"\nimport { Link } from \"gatsby\"\nimport { StaticQuery, graphql } from \"gatsby\"\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\n// import { blogURI } from \"../../../globals\"\n\nconst Project = () => {\n  return (\n    <div className=\"project-category\">\n      {/* <div className=\"container\"> */}\n      <div className=\"title-sidebar\">\n        <h3>Dự án mới</h3>\n      </div>\n      <ul>\n        <StaticQuery\n          query={POST_QUERY}\n          render={data => {\n            if (data.allWpPost.projects) {\n              const posts = data.allWpPost.projects\n\n              return (\n                <>\n                  {posts &&\n                    posts.map((prop, index) => (\n                      <li className=\"item\" key={index}>\n                        <div className=\"featured-image\">\n                          <Link to={`${prop.uri}`}>\n                            <div className=\"ov1\"></div>\n                            <div className=\"ov2\"></div>\n                            <div className=\"ov3\"></div>\n                            <div className=\"ov4\"></div>\n                            {prop.featuredImage.node && (\n                              <GatsbyImage\n                                image={getImage(\n                                  prop.featuredImage.node.localFile\n                                )}\n                                alt={prop.featuredImage.node.altText ?? 'khong co hinh'}\n                              />\n                            )}\n                          </Link>\n                        </div>\n                        <div className=\"title\">\n                          <Link to={`${prop.uri}`} title={prop.title}>\n                            <h3>{prop.title}</h3>\n                          </Link>\n                        </div>\n                        <div className=\"excerpt\">\n                          <div className=\"address\">\n                            <span>\n                              <i\n                                className=\"fa fa-map-marker\"\n                                aria-hidden=\"true\"\n                              ></i>\n                              {prop.CustomPost.address}\n                            </span>\n                          </div>\n                          <div className=\"price\">\n                            <span>Giá: ~ {prop.CustomPost.price}</span>\n                          </div>\n                          <div className=\"d-flex justify-content-between\">\n                            <div>{prop.CustomPost.bedroom}</div>\n                            <div>{prop.CustomPost.wc}</div>\n                            <div>{prop.CustomPost.acreage}</div>\n                          </div>\n                        </div>\n                      </li>\n                    ))}\n                </>\n              )\n            }\n            return null\n          }}\n        />\n      </ul>\n      {/* </div> */}\n    </div>\n  )\n}\n\nexport default Project\n\nconst POST_QUERY = graphql`\n  query GETPROJECT {\n    allWpPost(\n      filter: {\n        categories: { nodes: { elemMatch: { slug: { eq: \"du-an\" } } } }\n      }\n      sort: { fields: date, order: DESC }\n      limit: 6\n    ) {\n      projects: nodes {\n        title\n        uri\n        excerpt\n        featuredImage {\n          node {\n            altText\n            sourceUrl\n            localFile {\n              childImageSharp {\n                gatsbyImageData(width: 1000, height: 600, quality: 80, placeholder: TRACED_SVG)\n              }\n            }\n          }\n        }\n        CustomPost {\n          acreage\n          address\n          bedroom\n          fieldGroupName\n          price\n        }\n      }\n    }\n  }\n`\n","import axios from \"axios\";\nimport React from \"react\";\n// import Recaptcha from \"react-recaptcha\";\n// import { siteKey } from \"../../../globals\";\nclass Form extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      phone: \"\",\n      name: \"\",\n      email: \"\",\n      notes: \"\",\n      g_recaptcha_response: \"\",\n      mailSent: false,\n      error: null,\n      disableSubmit: false\n    }\n    this.txtPhone = React.createRef();\n  }\n  // recaptchaInstance = null\n  handleFormSubmit = e => {\n    e.preventDefault()\n    if(this.state.disableSubmit){\n      this.setState({ error: 'Đang gửi yêu cầu, xin vui lòng chờ giây lát' })\n      return \n    }\n    // if (this.state.g_recaptcha_response.trim() === \"\") {\n    //   this.setState({ error: 'Xin vui lòng nhập captcha trước khi gửi thông tin' })\n    //   this.setState({ disableSubmit: false })\n    // } else\n    if (this.state.phone.trim() === \"\" || this.state.name.trim() === \"\") {\n      this.setState({ error: 'Xin vui lòng tên và số điện thoại' })\n      this.txtPhone.current.select();\n      this.setState({ disableSubmit: false })\n    } else if (!(/^\\d+$/.test(this.state.phone)) || this.state.phone.length < 10) {\n      this.setState({ error: 'Xin vui lòng nhập đúng số điện thoại' })\n      this.txtPhone.current.focus();\n      this.txtPhone.current.select();\n      this.setState({ disableSubmit: false })\n    } else {\n      this.setState({ disableSubmit: true })\n      var bodyFormData = new FormData()\n      bodyFormData.append(\"formid\", \"1\")\n      bodyFormData.append(\"url\", window.location.href)\n      bodyFormData.append(\"title\", this.props.pageContext.title)\n      bodyFormData.append(\"name\", this.state.name)\n      bodyFormData.append(\"phone\", this.state.phone)\n      bodyFormData.append(\"email\", this.state.email)\n      bodyFormData.append(\"notes\", this.state.notes)\n      // bodyFormData.append(\"g-recaptcha-response\", this.state.g_recaptcha_response)\n      axios({\n        method: \"post\",\n        url: process.env.CONTACT_FORM_URL || \"https://alphaholdings-form.000webhostapp.com/form_submit1.php\",\n        headers: { \"Content-Type\": \"application/json\" },\n        data: bodyFormData,\n      })\n        .then(response => {\n          if (response.data.status === '400' || response.data.status === '500') {\n            this.setState({ error: response.data.message, disableSubmit: false })\n          } else {\n            this.setState({ mailSent: response.data.message })\n            if (response.data && response.data.status == '200') {\n              window.location.href = \"/thanks\"\n            }\n          }\n        })\n        .catch(error => {\n          this.setState({ error: \"Đã có lỗi xảy ra\", disableSubmit: false })\n        })\n    }\n  }\n\n  //handle changing fields\n\n  handleChange = (e, field) => {\n    let value = e.target.value\n    let updateValue = {}\n    updateValue[field] = value\n    this.setState(updateValue)\n  }\n\n  callback = () => {\n  }\n\n  verifyCallback = response => {\n    this.setState({ g_recaptcha_response: response });\n  }\n\n  render() {\n    const { post } = this.props.pageContext\n    const note = \"Xin chào Alphaland! Tôi đang quan tâm dến sản phẩm \" + post.title\n\n    return (\n      <>\n        <div className=\"form-wrapper\" id=\"form-wrapper\">\n          <h3>Liên hệ tư vấn</h3>\n          <form action=\"#\">\n            <div className=\"form-group\">\n              <input\n                type=\"hidden\"\n                className=\"form-control\"\n                value=\"1\"\n                onChange={e => this.handleChange(e, \"formid\")}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"hidden\"\n                className=\"form-control\"\n                value={this.state.url}\n                onChange={e => this.handleChange(e, \"url\")}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder=\"Họ và tên *\"\n                value={this.state.name}\n                onChange={e => this.handleChange(e, \"name\")}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                ref={this.txtPhone}\n                className=\"form-control\"\n                type=\"text\"\n                placeholder=\"Số điện thoại *\"\n                value={this.state.phone}\n                onChange={e => this.handleChange(e, \"phone\")}\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder=\"Địa chỉ email\"\n                value={this.state.email}\n                onChange={e => this.handleChange(e, \"email\")}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={post.title}\n                disabled\n              />\n            </div>\n            <div className=\"form-group\">\n              <textarea\n                className=\"form-control\"\n                placeholder={note}\n                value={this.state.notes}\n                onChange={e => this.handleChange(e, \"notes\")}\n                rows=\"5\"\n              />\n            </div>\n            {/* <Recaptcha\n              ref={e => this.recaptchaInstance = e}\n              sitekey={siteKey}\n              render=\"explicit\"\n              verifyCallback={this.verifyCallback}\n              onloadCallback={this.callback}\n            /> */}\n            <input\n              type=\"submit\"\n              disabled={this.state.disableSubmit}\n              onClick={e => this.handleFormSubmit(e)}\n              value=\"Gửi\"\n            />\n\n            <div>\n              {/* <div className=\"alert alert-success\">{successMail}</div>\n            <div className=\"alert alert-danger\">{mailEmty}</div>\n            <div className=\"alert alert-danger\">{errorMail}</div> */}\n              {this.state.mailSent && (\n                <div className=\"alert alert-success\">\n                  {this.state.mailSent}\n                </div>\n              )}\n              {this.state.error && (\n                <div className=\"alert alert-danger\">\n                  {this.state.error}\n                </div>\n              )}\n            </div>\n          </form>\n        </div>\n      </>\n    )\n  }\n}\n\nexport default Form\n","import { graphql } from \"gatsby\"\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\nimport parse from \"html-react-parser\"\nimport React from \"react\"\nimport Layout from \"../components/Layout\"\nimport Seo from \"../components/Seo\"\nimport Slider from \"react-slick\"\nimport Project from \"../components/Sidebar/Project\"\nimport PostForm from \"../components/Form/PostForm\"\n// We're using Gutenberg so we need the block styles\n// these are copied into this project due to a conflict in the postCSS\n// version used by the Gatsby and @wordpress packages that causes build\n// failures.\n// @todo update this once @wordpress upgrades their postcss version\n// import \"../css/@wordpress/block-library/build-style/style.css\"\n//  import \"../css/@wordpress/block-library/build-style/theme.css\"\n\nconst BlogPostTemplate = ({ data: { previous, next, post } }) => {\n  const featuredImage = {\n    image: post.featuredImage?.node?.localFile,\n    alt: post.featuredImage?.node?.alt || ``,\n  }\n  var settings = {\n    dots: false,\n    infinite: true,\n    autoplay: true,\n    speed: 1000,\n    slidesToShow: 1,\n    fade: false,\n    arrows: true,\n    slidesToScroll: 1,\n  }\n  return (\n    <Layout>\n      <Seo\n        title={post.title}\n        description={`${post.title} - Sàn bất động sản uy tín, chuyên nghiệp Alphaland.`}\n        keywords={`${post.title} - Sàn bất động sản, nhà đất tp hcm, dự án bất động sản, chung cư tphcm, nhà đất Bình Dương, Nhà đất Đồng Nai`}\n        seoImage={\n          \"https://www.alphaholdings.vn\" +\n          (featuredImage\n            ? featuredImage.image.childImageSharp.gatsbyImageData.images\n                .fallback.src\n            : \"/ogimage-default.jpg\")\n        }\n      />\n      <div className=\"big-title mb-5\">\n        <div className=\"container text-center\">\n          <h1>{post.title}</h1>\n        </div>\n      </div>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-8 col-xs-12\">\n            <div className=\"detail\">\n              {(() => {\n                if (post.CustomPost.address != null) {\n                  return (\n                    <>\n                      <div className=\"overview pb-3\">\n                        <Slider {...settings} className=\"pb-3 mb-3\">\n                          {post.CustomPost.gallery &&\n                            post.CustomPost.gallery.map((prop, index) => (\n                              <div key={index}>\n                                <GatsbyImage\n                                  image={getImage(prop.localFile)}\n                                  alt={prop.altText ?? \"khong co hinh\"}\n                                />\n                              </div>\n                            ))}\n                        </Slider>\n                        <h3 className=\"detail-title\">Thông tin chính</h3>\n                        <ul>\n                          <li>\n                            <strong>{post.title}</strong>\n                          </li>\n                          {(() => {\n                            if (post.CustomPost.investor != null) {\n                              return (\n                                <li>\n                                  Chủ đầu tư:{\" \"}\n                                  <strong>{post.CustomPost.investor}</strong>\n                                </li>\n                              )\n                            }\n                          })()}\n                          <li>\n                            Địa chỉ: <strong>{post.CustomPost.address}</strong>\n                          </li>\n                          <li className=\"price\">\n                            Giá: từ <strong>{post.CustomPost.price}</strong>\n                          </li>\n                        </ul>\n                      </div>\n                      <a\n                        href=\"#form-wrapper\"\n                        type=\"button\"\n                        className=\"btn btn-warning\"\n                      >\n                        Liên hệ\n                      </a>\n                    </>\n                  )\n                }\n              })()}\n\n              <div className=\"info pb-3\">\n                {(() => {\n                  if (post.CustomPost.address === null) {\n                    return (\n                      <>\n                        <div>{parse(post.content)}</div>\n                      </>\n                    )\n                  } else {\n                    return (\n                      <>\n                        <h3 className=\"detail-title\">Giới thiệu</h3>\n                        <div>{parse(post.content)}</div>\n                      </>\n                    )\n                  }\n                })()}\n              </div>\n\n              {(() => {\n                if (post.CustomPost.location != null) {\n                  return (\n                    <div className=\"localtion pb-3 mb-2\">\n                      <h3 className=\"detail-title\">Vị trí</h3>\n                      <div> {parse(post.CustomPost.location)}</div>\n                    </div>\n                  )\n                }\n              })()}\n\n              {(() => {\n                if (post.CustomPost.utility != null) {\n                  return (\n                    <div className=\"utilities pb-3\">\n                      <h3 className=\"detail-title\">Tiện ích xung quanh</h3>\n                      <div className=\"row\">\n                        {post.CustomPost.utility &&\n                          post.CustomPost.utility.map((prop, index) => (\n                            <div className=\"col-md-4 col-xs-12\" key={index}>\n                              <p>\n                                <i\n                                  className=\"fa fa-hand-o-right\"\n                                  aria-hidden=\"true\"\n                                ></i>{\" \"}\n                                {prop.title}\n                              </p>\n                            </div>\n                          ))}\n                      </div>\n                    </div>\n                  )\n                }\n              })()}\n            </div>\n            <div className=\"news_papers\">\n              {(() => {\n                if (post.news_papers.newsPapers !== null) {\n                  return (\n                    <h3 className=\"detail-title pt-3\">Báo chí nói về dự án</h3>\n                  )\n                }\n              })()}\n              <div className=\"row\">\n                {post.news_papers.newsPapers &&\n                  post.news_papers.newsPapers.map(\n                    (prop, index) =>\n                      prop.title && (\n                        <div className=\"col-md-4 col-xs-12\" key={index}>\n                          <div className=\"image\">\n                            <a\n                              href={prop.link}\n                              title={prop.title}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                            >\n                              {prop.image && (\n                                <GatsbyImage\n                                  image={getImage(prop.image.localFile)}\n                                  alt=\"hinh bai viet\"\n                                />\n                              )}\n                            </a>\n                          </div>\n                          <div className=\"content\">\n                            <h3 className=\"title\">\n                              <a\n                                href={prop.link}\n                                title={prop.title}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                              >\n                                {prop.title}\n                              </a>\n                            </h3>\n                            <div className=\"excerpt\">\n                              <div key={`body`} id=\"___gatsby\">\n                                {parse(prop.excerpt)}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      )\n                  )}\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-4 col-xs-12\">\n            <aside>\n              {(() => {\n                if (post.CustomPost.address != null) {\n                  return (\n                    <>\n                      <div className=\"contact-info text-center\">\n                        <div className=\"title-sidebar\">\n                          <h3>Hotline hỗ trợ khách hàng</h3>\n                        </div>\n                        {(() => {\n                          if (post.CustomPost.phone != null) {\n                            return (\n                              <h2>\n                                <a href={`tel:${post.CustomPost.phone}`}>\n                                  {post.CustomPost.phone}\n                                </a>\n                              </h2>\n                            )\n                          } else {\n                            return (\n                              <h2>\n                                <a href={`tel:0911234999`}> 0911 234 999</a>\n                              </h2>\n                            )\n                          }\n                        })()}\n                      </div>\n                      <PostForm pageContext={{ post, title: post.title }} />\n                    </>\n                  )\n                }\n              })()}\n              <Project />\n            </aside>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  )\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostById(\n    # these variables are passed in via createPage.pageContext in gatsby-node.js\n    $id: String!\n    $previousPostId: String\n    $nextPostId: String\n  ) {\n    # selecting the current post by id\n    post: wpPost(id: { eq: $id }) {\n      id\n      title\n      content\n      link\n      featuredImage {\n        node {\n          sourceUrl\n          altText\n          localFile {\n            childImageSharp {\n              gatsbyImageData(\n                layout: CONSTRAINED\n                placeholder: TRACED_SVG\n                quality: 90\n                width: 800\n                aspectRatio: 1.5\n              )\n            }\n          }\n        }\n      }\n      CustomPost {\n        address\n        price\n        bedroom\n        wc\n        acreage\n        location\n        phone\n        investor\n        utility {\n          title\n        }\n        gallery {\n          altText\n          sourceUrl\n          localFile {\n            childImageSharp {\n              gatsbyImageData(\n                layout: CONSTRAINED\n                placeholder: TRACED_SVG\n                quality: 90\n                width: 800\n                aspectRatio: 1.5\n              )\n            }\n          }\n        }\n      }\n      news_papers {\n        fieldGroupName\n        newsPapers {\n          excerpt\n          fieldGroupName\n          link\n          title\n          image {\n            altText\n            sourceUrl\n            localFile {\n              childImageSharp {\n                gatsbyImageData(\n                  layout: CONSTRAINED\n                  placeholder: TRACED_SVG\n                  quality: 90\n                  width: 800\n                  aspectRatio: 1.5\n                )\n              }\n            }\n          }\n        }\n      }\n      tags {\n        nodes {\n          id\n          name\n          slug\n        }\n      }\n      categories {\n        nodes {\n          name\n          slug\n          id\n        }\n      }\n      author {\n        node {\n          slug\n          name\n        }\n      }\n    }\n\n    # this gets us the previous post by id (if it exists)\n    previous: wpPost(id: { eq: $previousPostId }) {\n      uri\n      title\n    }\n\n    # this gets us the next post by id (if it exists)\n    next: wpPost(id: { eq: $nextPostId }) {\n      uri\n      title\n    }\n  }\n`\n"],"names":["className","StaticQuery","query","POST_QUERY","render","data","allWpPost","projects","posts","map","prop","index","key","Link","to","uri","featuredImage","node","G","image","getImage","localFile","alt","altText","title","CustomPost","address","price","bedroom","wc","acreage","Form","props","handleFormSubmit","e","preventDefault","state","disableSubmit","setState","error","phone","trim","name","txtPhone","current","select","test","length","focus","bodyFormData","FormData","append","window","location","href","pageContext","email","notes","axios","method","url","process","headers","then","response","status","message","mailSent","catch","handleChange","field","value","target","updateValue","callback","verifyCallback","g_recaptcha_response","React","post","this","note","id","action","type","onChange","placeholder","required","ref","disabled","rows","onClick","previous","next","settings","dots","infinite","autoplay","speed","slidesToShow","fade","arrows","slidesToScroll","Layout","Seo","description","keywords","seoImage","childImageSharp","gatsbyImageData","images","fallback","src","gallery","investor","parse","content","utility","news_papers","newsPapers","link","rel","excerpt","PostForm"],"sourceRoot":""}